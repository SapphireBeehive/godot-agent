# Base nginx configuration for stream proxies
# This is a minimal config - each proxy service will include its specific conf

user nginx;
worker_processes auto;
pid /run/nginx.pid;

error_log /dev/stderr warn;

events {
    worker_connections 256;
    use epoll;
}

stream {
    # Resolver for upstream hostname resolution
    # 127.0.0.11 is Docker's internal DNS
    resolver 127.0.0.11 ipv6=off valid=30s;
    resolver_timeout 10s;
    
    # Include the service-specific configuration
    include /etc/nginx/conf.d/*.conf;
}
